<table class="table table-striped table-hover">
  <thead>
  <tr>
    <th>Id.</th>
    <th>Mark
      <span *ngIf="alphSortedNames"
        (click)="sortByCarNameAlphabeticaly()"
        class="glyphicon glyphicon-sort-by-alphabet">
      </span>
      <span *ngIf="!alphSortedNames"
      (click)="sortByCarNameReversedAlphabeticaly()"
      class="glyphicon glyphicon-sort-by-alphabet-alt"></span>
    </th>
    <th>Registration
      <span *ngIf="alphSortedReg"
        (click)="sortByCarRegAlphabeticaly()"
        class="glyphicon glyphicon-sort-by-alphabet">
      </span>
      <span *ngIf="!alphSortedReg"
      (click)="sortByCarRegReversedAlphabeticaly()"
      class="glyphicon glyphicon-sort-by-alphabet-alt"></span>
    </th>
    <th>Repairs
      <span *ngIf = "!filteredByRepairs"
      (click)="filterCarsWithPendingRepairsRepair()"
        class="glyphicon glyphicon-filter"></span>
        <span *ngIf = "filteredByRepairs"
        (click) = "clearRepairsFilter()"
        class="glyphicon glyphicon-remove-circle"></span>
    </th>
    <th>Lends |
      <span *ngIf="lendsAllCars; else lendsFilter">
        <span
        (click)="leaveFreeCarsOnly()"
        class="glyphicon glyphicon-home" style = "color:green"></span>
        |
        <span
        (click)="leaveTakenCarsOnly()"
        class="glyphicon glyphicon-road" style = "color:blue"></span>
      </span> |
      <ng-template #lendsFilter>
        <span *ngIf="takenCars">
          <span
          (click)="leaveFreeCarsOnly()"
          class="glyphicon glyphicon-home" style = "color:green"></span> |
          <span class="label label-warning">
            <span
            class=" glyphicon glyphicon-road" style = "color:blue"></span>
          </span>
        </span>
        <span *ngIf="freeCars">
          <span class="label label-warning">
            <span
            class="glyphicon glyphicon-home" style = "color:green"></span>
          </span> |
          <span
          (click)="leaveTakenCarsOnly()"
          class="glyphicon glyphicon-road" style = "color:blue"></span>
        </span> |
        <span
        (click)="clearLendsFilters()"
        class="glyphicon glyphicon-remove-circle"></span>
      </ng-template>
    </th>
    <th>Checkouts</th>
    <th>Insurances</th>
    <th>Tires</th>
  <tr>
  </thead>
  <tbody>
    <tr *ngFor="let car of wholeCarsList">
      <td>{{car.id}}</td>
      <td>{{car.carName}}</td>
      <td>{{car.carRegistration}}</td>
      <td>
        <div *ngFor="let rep of car.repairs">
          <div *ngIf="rep.status.id==2">
            <span class="glyphicon glyphicon-exclamation-sign" style="color:red"></span>
          </div>
        </div>
      </td>
      <td >
          <div *ngIf="!car.lends.length>0">
            <span class="glyphicon glyphicon-home" style="color:green"></span>
        </div>
          <div *ngFor="let lend of car.lends">
            <div *ngIf="lend.status.id==2; else carFree">
              <span class="glyphicon glyphicon-road" style="color:blue"></span>
          </div>
          <ng-template #carFree><span class="glyphicon glyphicon-home" style="color:green"></span></ng-template>
        </div>
      </td>
      <td >
        <div *ngFor="let ch of car.check">
          <div *ngIf="ch.status.id==2">
            <span class="label label-danger">!</span>
          </div>
        </div>
      </td>
      <td>
        <div *ngFor="let ins of car.insurances">
          <div *ngIf="ins.status.id==2">
            <span class="label label-success">\/</span>
          </div>
        </div>
      </td>
      <td>
        <div *ngFor="let tire of car.tires">
          <div *ngIf="tire.status.id==2">
            <span class="label label-warning">!</span>
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>
